<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui" template="/WEB-INF/templates/default.xhtml">

	<ui:define name="content">
		<h:form enctype="multipart/form-data">
			<p:panel styleClass="contentPanel">
				<h1>
					<h:outputText value="Asignación de Recursos per Capita" />
				</h1>
				<p:panel id="Panel">
					<h2>
						<strong>Actividad:</strong> Validar Resultados Valorización
					</h2>
					<p class="parrafo">La planilla de Montos de Distribución contiene lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent
						egestas tempor nulla eget ultricies. Morbi pulvinar elit at justo pharetra, vitae ultricies est faucibus. Integer id est euismod
						libero rutrum ultricies. Integer aliquet, sem id commodo placerat, nisi augue suscipit ante, vel auctor mauris enim eu turpis. Nunc eu
						erat et eros interdum eleifend eu non sem. Maecenas sollicitudin odio imperdiet orci sollicitudin convallis. Etiam hendrerit, tellus a
						lacinia dignissim, justo nisi porttitor enim, eget ullamcorper felis augue eget lacus.</p>
					<br />
					<!-- ARCHIVOS DE TAREA -->
					<div class="destacaArchivos ui-corner-all">
						<h3>Archivos disponibles para la Tarea:</h3>
						<h:graphicImage value="resources/minsal/images/download-alt.png" styleClass="divapIcons" />
						<p:commandLink value="Planilla de Montos de Distribucion.xls" />
					</div>
					<h3>Visualizador Montos de Distribución:</h3>
					<!-- INICIO: MODAL CON INFORMACIóN Y FILTROS VISTA ONLINE -->

					<p:panel styleClass="appMenu">
						<h4>Filtros de Búsqueda:</h4>
						<h:panelGrid columns="4" id="busqueda_mis_tareas">

							<h:panelGrid columns="2">
								<h:outputText value="Servicio: " styleClass="inputLabel" />
								<p:selectOneMenu>
									<f:selectItem itemLabel="ARICA" itemValue="ARICA" />
									<f:selectItem itemLabel="Seleccione" itemValue="" />
								</p:selectOneMenu>
							</h:panelGrid>

							<h:panelGrid columns="2">
								<h:outputText value="Comuna: " styleClass="inputLabel" />
								<p:selectOneMenu>
									<f:selectItem itemLabel="ARICA" itemValue="ARICA" />
									<f:selectItem itemLabel="Seleccione" itemValue="" />
								</p:selectOneMenu>
							</h:panelGrid>

							<h:panelGrid columns="2">
								<p:commandButton value="Buscar" styleClass=" x-btn-text icon-guardar" update="tablaMisTareas" icon="ui-icon-search" />
								<p:commandButton value="Limpiar" styleClass=" x-btn-text icon-guardar" update="tablaMisTareas" icon="ui-icon-trash" />
							</h:panelGrid>

						</h:panelGrid>
						<h4>Columnas a Mostrar:</h4>
						<h:panelGrid columns="4" styleClass="tableFullWidth">
							<h:panelGrid columns="2">
								<p:selectBooleanCheckbox />
								<h:outputText value="Región" />
							</h:panelGrid>

							<h:panelGrid columns="2">
								<p:selectBooleanCheckbox />
								<h:outputText value="Comuna" />
							</h:panelGrid>

							<h:panelGrid columns="2">
								<p:selectBooleanCheckbox />
								<h:outputText value="Servicio" />
							</h:panelGrid>

							<h:panelGrid columns="2">
								<p:selectBooleanCheckbox />
								<h:outputText value="Ref. Asig_Zon" />
							</h:panelGrid>
							<h:panelGrid columns="2">
								<p:selectBooleanCheckbox />
								<h:outputText value="Tramo Pobreza" />
							</h:panelGrid>
							<h:panelGrid columns="2">
								<p:selectBooleanCheckbox />
								<h:outputText value="Per Capita Basal" />
							</h:panelGrid>
							<h:panelGrid columns="2">
								<p:selectBooleanCheckbox />
								<h:outputText value="Pobreza" />
							</h:panelGrid>
							<h:panelGrid columns="2">
								<p:selectBooleanCheckbox />
								<h:outputText value="Ruralidad" />
							</h:panelGrid>
							<h:panelGrid columns="2">
								<p:selectBooleanCheckbox />
								<h:outputText value="Valor Ref. Asig. Zona" />
							</h:panelGrid>
							<h:panelGrid columns="2">
								<p:selectBooleanCheckbox value="#{true}" />
								<h:outputText value="Valor per Capita" />
							</h:panelGrid>
							<h:panelGrid columns="2">
								<p:selectBooleanCheckbox value="#{true}" />
								<h:outputText value="Poblacion Año" />
							</h:panelGrid>
							<h:panelGrid columns="2">
								<p:selectBooleanCheckbox value="#{true}" />
								<h:outputText value="Población Mayor de 65 Años" />
							</h:panelGrid>
							<h:panelGrid columns="2">
								<p:selectBooleanCheckbox />
								<h:outputText value="Per Capita Mes" />
							</h:panelGrid>
							<h:panelGrid columns="2">
								<p:selectBooleanCheckbox value="#{true}" />
								<h:outputText value="Per Capita Año" />
							</h:panelGrid>

							<h:panelGrid columns="2">
								<p:selectBooleanCheckbox />
								<h:outputText value="Asig. Desempeño Difícil" />
							</h:panelGrid>
						</h:panelGrid>

					</p:panel>
					<br />
					<h:outputText value="* Debe seleccionar al menos un filtro antes de realizar la búsqueda." styleClass="ui-state-error" />
					<br />
					<br />
					<h:outputText value="* Debe seleccionar al menos una columna a mostrar." styleClass="ui-state-error" />
					<br />
					<br />
					<p:dataTable id="tablaMisTareas" resizableColumns="true" liveResize="true" var="_montoDistribucion" rows="10" paginator="true"
						paginatorPosition="bottom" emptyMessage="No se encontraron Tareas Asignadas"
						value="#{procesoAsignacionPerCapitaController.planillaMontosDistribucion}" styleClass="dataTable">

						<p:column>
							<f:facet name="header">
								<h:outputText value="Valor per Capita" />
							</f:facet>
							<h:outputText value="#{_montoDistribucion.valorPerCapita}">
								<f:convertNumber currencyCode="CLP" type="currency" pattern="" maxFractionDigits="0" />
							</h:outputText>
						</p:column>

						<p:column>
							<f:facet name="header">
								<h:outputText value="Poblacion Año" />
							</f:facet>
							<h:outputText value="#{_montoDistribucion.poblacion}">
								<f:convertNumber currencyCode="CLP" type="currency" pattern="" maxFractionDigits="0" />
							</h:outputText>
						</p:column>

						<p:column>
							<f:facet name="header">
								<h:outputText value="Per Capita Mensual (M$2014)" />
							</f:facet>
							<h:outputText value="$ " />
							<h:outputText value="#{_montoDistribucion.perCapitaMensual}">
								<f:convertNumber currencyCode="CLP" type="currency" pattern="" maxFractionDigits="0" />
							</h:outputText>
						</p:column>

						<p:column>
							<f:facet name="header">
								<h:outputText value="Per Capita Año (M$2014)" />
							</f:facet>
							<h:outputText value="$ " />
							<h:outputText value="#{_montoDistribucion.perCapitaMensual}">
								<f:convertNumber currencyCode="CLP" type="currency" pattern="" maxFractionDigits="0" />
							</h:outputText>
						</p:column>

					</p:dataTable>
					<!-- FIN: MODAL CON INFORMACIóN Y FILTROS VISTA ONLINE -->

					<h3>Tareas de la Actividad:</h3>

					<h:form>
						<p:commandButton styleClass="x-btn-text" icon="ui-icon-refresh" value="Re Cargar Archivos"
							action="divapProcesoAsignacionPerCapitaCargarValorizacion?faces-redirect=true" />
						<p:commandButton styleClass="x-btn-text" icon="ui-icon-refresh" value="Re Valorizar"
							action="divapProcesoAsignacionPerCapitaCargarValorizacion?faces-redirect=true" />
						<p:commandButton styleClass="x-btn-text" icon="ui-icon-check" value="Los montos de distribución son correctos | Finalizar Actividad"
							action="bandejaTareas?faces-redirect=true indexMenu=0" />
					</h:form>

				</p:panel>

				<p:commandButton value="Volver" styleClass="x-btn-text" action="bandejaTareas?faces-redirect=true indexMenu=0" ajax="false"
					icon="ui-icon-seek-first" />
			</p:panel>
		</h:form>
	</ui:define>
</ui:composition>