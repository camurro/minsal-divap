<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui" template="/WEB-INF/templates/default.xhtml">

	<ui:define name="content">
		<h:form id="formTabView" enctype="multipart/form-data">
			<p:growl id="growl" showDetail="false"/> 
			<p:panel styleClass="contentPanel">
				<h1>
					<h:outputText value="DIVAP Reportes" />
				</h1>
				<p:panel id="Panel">
					<h2>Historico por Programa</h2>

					<div class="destacaArchivos ui-corner-all">
						<h3>Archivos Disponibles:</h3>
						<span class="strong">Archivo: </span> Planilla Valores Historicos Programa Por Servicio [
						<h:graphicImage value="resources/minsal/images/download-alt.png" styleClass="divapIcons" />
						<h:commandLink
										action="#{reporteHistoricoPorProgramaController.downloadTemplateEstablecimiento}"
										value="Bajar">
										<f:setPropertyActionListener
											target="#{reporteHistoricoPorProgramaController.docIdEstablecimientoDownload}"
											value="#{reporteHistoricoPorProgramaController.idPlanillaDocEstablecimiento}" />
						</h:commandLink>
						]
						
						<br />
						<span class="strong">Archivo: </span> Planilla Valores Historicos Programa Por Comuna [
						<h:graphicImage value="resources/minsal/images/download-alt.png" styleClass="divapIcons" />
						<h:commandLink
										action="#{reporteHistoricoPorProgramaController.downloadTemplateComuna}"
										value="Bajar">
										<f:setPropertyActionListener
											target="#{reporteHistoricoPorProgramaController.docIdComunaDownload}"
											value="#{reporteHistoricoPorProgramaController.idPlanillaDocComuna}" />
						</h:commandLink>
						]
					</div>
					<br />
					<p:panelGrid columns="4" id="busqueda_mis_tareas">
						<h:outputText value="Programa: " styleClass="inputLabel" />
						<p:selectOneMenu style="width:450px;" id="cbProgramaSub21" value="#{reporteHistoricoPorProgramaController.valorComboPrograma}">
						    <f:selectItem itemLabel="Seleccione Programa" itemValue="" />
 							<f:selectItems value="#{reporteHistoricoPorProgramaController.programas}" itemLabel="#{programa.nombre}" itemValue="#{programa.idProgramaAno}" var="programa" />
 							<p:ajax listener="#{reporteHistoricoPorProgramaController.visibilidadSubtitulos}" update="tabView" />
	       	 			</p:selectOneMenu>
						
						<h:outputText value="Servicio: " styleClass="inputLabel" />
						<p:selectOneMenu style="width:450px;" id="cbServicio" value="#{reporteHistoricoPorProgramaController.valorComboServicio}">
						    <f:selectItem itemLabel="Seleccione Servicio" itemValue="" />
    						<f:selectItems value="#{reporteHistoricoPorProgramaController.servicios}" itemLabel="#{servicio.nombre_servicio}" itemValue="#{servicio.id_servicio}" var="servicio" />
    						<p:ajax listener="#{reporteHistoricoPorProgramaController.cargarComunasEstablecimientos}" update="tabView" />
    	 				</p:selectOneMenu>
										
					</p:panelGrid>
											
					<br />
					<p:tabView id="tabView" activeIndex="#{reporteHistoricoPorProgramaController.activeTab}" dynamic="true" cache="false">
					<p:ajax event="tabChange" listener="#{reporteHistoricoPorProgramaController.onTabChange}" update="Sub21 Sub22 Sub24 Sub29" />
						
						
						<p:tab id="Sub21" title="Subtítulo 21" rendered="#{reporteHistoricoPorProgramaController.mostrarSub21}">
										
							<p:panelGrid columns="3">
									<h:outputText value="Establecimiento: " styleClass="inputLabel" />
									<p:selectOneMenu style="width:650px;" id="cbEstablecimiento" value="#{reporteHistoricoPorProgramaController.valorComboEstablecimiento}">
										<f:selectItem itemLabel="Seleccione Establecimiento" itemValue="" />
										<f:selectItems value="#{reporteHistoricoPorProgramaController.establecimientos}" itemLabel="#{establecimiento.nombre}" itemValue="#{establecimiento.id}" var="establecimiento" />
									</p:selectOneMenu>
									<p:commandButton value="Buscar" styleClass=" x-btn-text icon-guardar" actionListener="#{reporteHistoricoPorProgramaController.cargarTablaEstablecimientoFiltroServiciosEstablecimientoSub21}" update="tablaSub21" />
							</p:panelGrid>
							<br/>
										
							<p:dataTable id="tablaSub21" resizableColumns="true" value="#{reporteHistoricoPorProgramaController.reporteHistoricoPorProgramaEstablecimientoVOSub21}" liveResize="true" var="_data" 
							rows="20" paginator="true" paginatorPosition="bottom" emptyMessage="No se encontro información." styleClass="dataTable">

								<p:columnGroup type="header">
									<p:row>
										<p:column rowspan="2" headerText="Región" />
										<p:column rowspan="2" headerText="Servicio de Salud" />
										<p:column rowspan="2" headerText="Establecimiento" />
										<p:column colspan="9" headerText="Prespuesto Histórico #{reporteHistoricoPorProgramaController.programa.nombre}" />
									</p:row>
									<p:row>
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoCursoMenos8}  ($ #{reporteHistoricoPorProgramaController.anoEnCurso})" />
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoCursoMenos7}  ($ #{reporteHistoricoPorProgramaController.anoEnCurso})" />
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoCursoMenos6}  ($ #{reporteHistoricoPorProgramaController.anoEnCurso})" />
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoCursoMenos5}  ($ #{reporteHistoricoPorProgramaController.anoEnCurso})" />
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoCursoMenos4}  ($ #{reporteHistoricoPorProgramaController.anoEnCurso})" />
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoCursoMenos3}  ($ #{reporteHistoricoPorProgramaController.anoEnCurso})" />
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoCursoMenos2}  ($ #{reporteHistoricoPorProgramaController.anoEnCurso})" />
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoCursoMenos1}  ($ #{reporteHistoricoPorProgramaController.anoEnCurso})" />
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoEnCurso}" />
									</p:row>
								</p:columnGroup>

								<p:column>
									<span class="textoAjustado textoPequenio centrado">#{_data.region}</span>
								</p:column>
								<p:column>
									<span class="textoAjustado textoPequenio centrado">#{_data.servicio}</span>
								</p:column>
								<p:column>
									<span class="textoAjustado textoPequenio centrado">#{_data.establecimiento}</span>
								</p:column>
								<p:column>
									<h:outputText value="#{_data.marcoAnoActualMenos8}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>
								<p:column>
									<h:outputText value="#{_data.marcoAnoActualMenos7}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>
								<p:column>
									<h:outputText value="#{_data.marcoAnoActualMenos6}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>
								<p:column>
									<h:outputText value="#{_data.marcoAnoActualMenos5}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>
								<p:column>
									<h:outputText value="#{_data.marcoAnoActualMenos4}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>
								<p:column>
									<h:outputText value="#{_data.marcoAnoActualMenos3}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>
								<p:column>
									<h:outputText value="#{_data.marcoAnoActualMenos2}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>
								<p:column>
									<h:outputText value="#{_data.marcoAnoActualMenos1}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>
								
								<p:column>
									<h:outputText value="#{_data.marcoAnoActual}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>

								<p:columnGroup type="footer">
									<p:row>
										<p:column />
										<p:column />
										<p:column />
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActualMenos8}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActualMenos7}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActualMenos6}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActualMenos5}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActualMenos4}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActualMenos3}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActualMenos2}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActualMenos1}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActual}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
									</p:row>
								</p:columnGroup>

							</p:dataTable>
						</p:tab>
						
						
						<p:tab id="Sub22" title="Subtítulo 22" rendered="#{reporteHistoricoPorProgramaController.mostrarSub22}">
						
										
							<p:panelGrid columns="3" >
									<h:outputText value="Establecimiento: " styleClass="inputLabel" />
									<p:selectOneMenu style="width:650px;" id="cbEstablecimiento22" value="#{reporteHistoricoPorProgramaController.valorComboEstablecimiento}">
										<f:selectItem itemLabel="Seleccione Establecimiento" itemValue="" />
										<f:selectItems value="#{reporteHistoricoPorProgramaController.establecimientos}" itemLabel="#{establecimiento.nombre}" itemValue="#{establecimiento.id}" var="establecimiento" />
									</p:selectOneMenu>
									<p:commandButton value="Buscar" styleClass=" x-btn-text icon-guardar" actionListener="#{reporteHistoricoPorProgramaController.cargarTablaEstablecimientoFiltroServiciosEstablecimientoSub22}" update="tablaSub22" />
							</p:panelGrid>
										
							<br/>
						
						
							<p:dataTable id="tablaSub22" resizableColumns="true" value="#{reporteHistoricoPorProgramaController.reporteHistoricoPorProgramaEstablecimientoVOSub22}" liveResize="true" var="_data" 
							rows="20" paginator="true" paginatorPosition="bottom" emptyMessage="No se encontro información." styleClass="dataTable">

								<p:columnGroup type="header">
									<p:row>
										<p:column rowspan="2" headerText="Región" />
										<p:column rowspan="2" headerText="Servicio de Salud" />
										<p:column rowspan="2" headerText="Establecimiento" />
										<p:column colspan="9" headerText="Prespuesto Histórico #{reporteHistoricoPorProgramaController.programa.nombre}" />
									</p:row>
									<p:row>
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoCursoMenos8}  ($ #{reporteHistoricoPorProgramaController.anoEnCurso})" />
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoCursoMenos7}  ($ #{reporteHistoricoPorProgramaController.anoEnCurso})" />
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoCursoMenos6}  ($ #{reporteHistoricoPorProgramaController.anoEnCurso})" />
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoCursoMenos5}  ($ #{reporteHistoricoPorProgramaController.anoEnCurso})" />
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoCursoMenos4}  ($ #{reporteHistoricoPorProgramaController.anoEnCurso})" />
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoCursoMenos3}  ($ #{reporteHistoricoPorProgramaController.anoEnCurso})" />
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoCursoMenos2}  ($ #{reporteHistoricoPorProgramaController.anoEnCurso})" />
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoCursoMenos1}  ($ #{reporteHistoricoPorProgramaController.anoEnCurso})" />
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoEnCurso}" />
									</p:row>
								</p:columnGroup>

								<p:column>
									<span class="textoAjustado textoPequenio centrado">#{_data.region}</span>
								</p:column>
								<p:column>
									<span class="textoAjustado textoPequenio centrado">#{_data.servicio}</span>
								</p:column>
								<p:column>
									<span class="textoAjustado textoPequenio centrado">#{_data.establecimiento}</span>
								</p:column>
								<p:column>
									<h:outputText value="#{_data.marcoAnoActualMenos8}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>
								<p:column>
									<h:outputText value="#{_data.marcoAnoActualMenos7}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>
								<p:column>
									<h:outputText value="#{_data.marcoAnoActualMenos6}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>
								<p:column>
									<h:outputText value="#{_data.marcoAnoActualMenos5}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>
								<p:column>
									<h:outputText value="#{_data.marcoAnoActualMenos4}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>
								<p:column>
									<h:outputText value="#{_data.marcoAnoActualMenos3}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>
								<p:column>
									<h:outputText value="#{_data.marcoAnoActualMenos2}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>
								<p:column>
									<h:outputText value="#{_data.marcoAnoActualMenos1}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>
								<p:column>
									<h:outputText value="#{_data.marcoAnoActual}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>

								<p:columnGroup type="footer">
									<p:row>
										<p:column />
										<p:column />
										<p:column />
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActualMenos8}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActualMenos7}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActualMenos6}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActualMenos5}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActualMenos4}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActualMenos3}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActualMenos2}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActualMenos1}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActual}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
									</p:row>
								</p:columnGroup>

							</p:dataTable>
						</p:tab>
						
						
						

						<p:tab id="Sub24" title="Subtítulo 24" rendered="#{reporteHistoricoPorProgramaController.mostrarSub24}">
										
						<p:panelGrid columns="3">
							<h:outputText value="Comuna: " styleClass="inputLabel" />
							<p:selectOneMenu style="width:650px;" id="cbComuna" value="#{reporteHistoricoPorProgramaController.valorComboComuna}">
								<f:selectItem itemLabel="Seleccione Comuna" itemValue="" />
								<f:selectItems value="#{reporteHistoricoPorProgramaController.comunas}" itemLabel="#{comuna.nombre}" itemValue="#{comuna.id}" var="comuna" />
							</p:selectOneMenu>
							<p:commandButton value="Buscar" styleClass=" x-btn-text icon-guardar" actionListener="#{reporteHistoricoPorProgramaController.cargarTablaComunasFiltroServicioComuna}" update="tablaSub24" />
						</p:panelGrid>
						
						<br/>
							<p:dataTable id="tablaSub24" resizableColumns="true" value="#{reporteHistoricoPorProgramaController.reporteHistoricoPorProgramaVO}" liveResize="true" var="_data" 
							rows="20" paginator="true" paginatorPosition="bottom" emptyMessage="No se encontro información." styleClass="dataTable">

								<p:columnGroup type="header">
									<p:row>
										<p:column rowspan="2" headerText="Región" />
										<p:column rowspan="2" headerText="Servicio de Salud" />
										<p:column rowspan="2" headerText="Comuna" />
										<p:column colspan="9" headerText="Prespuesto Histórico #{reporteHistoricoPorProgramaController.programa.nombre}" />
									</p:row>
									
									<p:row>
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoCursoMenos8}  ($ #{reporteHistoricoPorProgramaController.anoEnCurso})" />
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoCursoMenos7}  ($ #{reporteHistoricoPorProgramaController.anoEnCurso})" />
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoCursoMenos6}  ($ #{reporteHistoricoPorProgramaController.anoEnCurso})" />
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoCursoMenos5}  ($ #{reporteHistoricoPorProgramaController.anoEnCurso})" />
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoCursoMenos4}  ($ #{reporteHistoricoPorProgramaController.anoEnCurso})" />
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoCursoMenos3}  ($ #{reporteHistoricoPorProgramaController.anoEnCurso})" />
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoCursoMenos2}  ($ #{reporteHistoricoPorProgramaController.anoEnCurso})" />
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoCursoMenos1}  ($ #{reporteHistoricoPorProgramaController.anoEnCurso})" />
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoEnCurso}" />
									</p:row>
									
								</p:columnGroup>

								<p:column>
									<span class="textoAjustado textoPequenio centrado">#{_data.region}</span>
								</p:column>
								<p:column>
									<span class="textoAjustado textoPequenio centrado">#{_data.servicio}</span>
								</p:column>
								<p:column>
									<span class="textoAjustado textoPequenio centrado">#{_data.comuna}</span>
								</p:column>
								<p:column>
									<h:outputText value="#{_data.marcoAnoActualMenos8}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>
								<p:column>
									<h:outputText value="#{_data.marcoAnoActualMenos7}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>
								<p:column>
									<h:outputText value="#{_data.marcoAnoActualMenos6}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>
								<p:column>
									<h:outputText value="#{_data.marcoAnoActualMenos5}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>
								<p:column>
									<h:outputText value="#{_data.marcoAnoActualMenos4}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>
								<p:column>
									<h:outputText value="#{_data.marcoAnoActualMenos3}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>
								<p:column>
									<h:outputText value="#{_data.marcoAnoActualMenos2}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>
								<p:column>
									<h:outputText value="#{_data.marcoAnoActualMenos1}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>
								<p:column>
									<h:outputText value="#{_data.marcoAnoActual}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>

								<p:columnGroup type="footer">
									<p:row>
										<p:column />
										<p:column />
										<p:column />
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActualMenos8}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActualMenos7}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActualMenos6}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActualMenos5}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActualMenos4}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActualMenos3}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActualMenos2}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActualMenos1}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActual}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
									</p:row>
								</p:columnGroup>

							</p:dataTable>
						</p:tab>
						
						
						<p:tab id="Sub29" title="Subtítulo 29" rendered="#{reporteHistoricoPorProgramaController.mostrarSub29}">
										
							<p:panelGrid columns="3">
									<h:outputText value="Establecimiento: " styleClass="inputLabel" />
									<p:selectOneMenu style="width:650px;" id="cbEstablecimiento29" value="#{reporteHistoricoPorProgramaController.valorComboEstablecimiento}">
										<f:selectItem itemLabel="Seleccione Establecimiento" itemValue="" />
										<f:selectItems value="#{reporteHistoricoPorProgramaController.establecimientos}" itemLabel="#{establecimiento.nombre}" itemValue="#{establecimiento.id}" var="establecimiento" />
									</p:selectOneMenu>
									<p:commandButton value="Buscar" styleClass=" x-btn-text icon-guardar" actionListener="#{reporteHistoricoPorProgramaController.cargarTablaEstablecimientoFiltroServiciosEstablecimientoSub29}" update="tablaSub29" />
							</p:panelGrid>
							<br/>
							<p:dataTable id="tablaSub29" resizableColumns="true" value="#{reporteHistoricoPorProgramaController.reporteHistoricoPorProgramaEstablecimientoVOSub29}" liveResize="true" var="_data" 
							rows="20" paginator="true" paginatorPosition="bottom" emptyMessage="No se encontro información." styleClass="dataTable">

								<p:columnGroup type="header">
									<p:row>
										<p:column rowspan="2" headerText="Región" />
										<p:column rowspan="2" headerText="Servicio de Salud" />
										<p:column rowspan="2" headerText="Establecimiento" />
										<p:column colspan="9" headerText="Prespuesto Histórico #{reporteHistoricoPorProgramaController.programa.nombre}" />
									</p:row>
									
									<p:row>
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoCursoMenos8}  ($ #{reporteHistoricoPorProgramaController.anoEnCurso})" />
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoCursoMenos7}  ($ #{reporteHistoricoPorProgramaController.anoEnCurso})" />
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoCursoMenos6}  ($ #{reporteHistoricoPorProgramaController.anoEnCurso})" />
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoCursoMenos5}  ($ #{reporteHistoricoPorProgramaController.anoEnCurso})" />
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoCursoMenos4}  ($ #{reporteHistoricoPorProgramaController.anoEnCurso})" />
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoCursoMenos3}  ($ #{reporteHistoricoPorProgramaController.anoEnCurso})" />
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoCursoMenos2}  ($ #{reporteHistoricoPorProgramaController.anoEnCurso})" />
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoCursoMenos1}  ($ #{reporteHistoricoPorProgramaController.anoEnCurso})" />
										<p:column headerText="$ #{reporteHistoricoPorProgramaController.anoEnCurso}" />
									</p:row>
								</p:columnGroup>

								<p:column>
									<span class="textoAjustado textoPequenio centrado">#{_data.region}</span>
								</p:column>
								<p:column>
									<span class="textoAjustado textoPequenio centrado">#{_data.servicio}</span>
								</p:column>
								<p:column>
									<span class="textoAjustado textoPequenio centrado">#{_data.establecimiento}</span>
								</p:column>
								<p:column>
									<h:outputText value="#{_data.marcoAnoActualMenos8}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>
								<p:column>
									<h:outputText value="#{_data.marcoAnoActualMenos7}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>
								<p:column>
									<h:outputText value="#{_data.marcoAnoActualMenos6}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>
								<p:column>
									<h:outputText value="#{_data.marcoAnoActualMenos5}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>
								<p:column>
									<h:outputText value="#{_data.marcoAnoActualMenos4}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>
								<p:column>
									<h:outputText value="#{_data.marcoAnoActualMenos3}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>
								<p:column>
									<h:outputText value="#{_data.marcoAnoActualMenos2}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>
								<p:column>
									<h:outputText value="#{_data.marcoAnoActualMenos1}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>
								<p:column>
									<h:outputText value="#{_data.marcoAnoActual}" styleClass="textoPequenio textoAjustado">
										<f:convertNumber type="number" maxFractionDigits="0" />
									</h:outputText>
								</p:column>
								<p:columnGroup type="footer">
									<p:row>
										<p:column />
										<p:column />
										<p:column />
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActualMenos8}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActualMenos7}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActualMenos6}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActualMenos5}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActualMenos4}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActualMenos3}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActualMenos2}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActualMenos1}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
										<p:column>
											<f:facet name="footer">
												<h:outputText value="#{reporteHistoricoPorProgramaController.totalMarcoAnoActual}" styleClass="textoAjustado textoPequenio centrado">
													<f:convertNumber type="currency" maxFractionDigits="0" locale="es_CL" currencySymbol="$" />
												</h:outputText>
											</f:facet>
										</p:column>
									</p:row>
								</p:columnGroup>

							</p:dataTable>
						</p:tab>
						
						
						


					</p:tabView>
				</p:panel>

				<p:commandButton value="Volver" styleClass="x-btn-text" action="bandejaTareas?faces-redirect=true indexMenu=0" ajax="false"
					icon="ui-icon-seek-first" />
			</p:panel>
		</h:form>
	</ui:define>
</ui:composition>